<!DOCTYPE html>
<html lang="en"><head><meta charset="utf-8"></meta><meta name="viewport"  content="width=device-width, initial-scale=1"></meta><meta name="author"  content="fsoc"></meta><meta name="author"  content="Laurenz Weixlbaumer"></meta><link href="/styles/base.css"  rel="stylesheet"></link><link href="/styles/font.css"  rel="stylesheet"></link><meta name="description"  content="Writeups for two tasks from the Sharif University CTF 2016."></meta><link href="/styles/syntax-theme.css"  rel="stylesheet"></link><meta name="description"  content="Dynamically generating polygons and smoothing out their edges."></meta><link href="/styles/syntax-theme.css"  rel="stylesheet"></link><meta name="description"  content="Writing a small patcher to remove ads from an electron app with NodeJS."></meta><link href="/styles/syntax-theme.css"  rel="stylesheet"></link><meta name="description"  content="So I added live reloading to dhow, why do I think this is such a big deal"></meta><link href="/styles/syntax-theme.css"  rel="stylesheet"></link><meta name="description"  content="Reversing an encryptor written in Java, decidedly overusing streams."></meta><link href="/styles/syntax-theme.css"  rel="stylesheet"></link><meta name="description"  content="TODO"></meta><link href="/styles/syntax-theme.css"  rel="stylesheet"></link><meta name="description"  content="Decrypting file contents by reversing the encryption algorithm."></meta><link href="/styles/syntax-theme.css"  rel="stylesheet"></link><meta name="description"  content="I created a GUI for a side project of mine with minimal effort and convenient usage and you can too!"></meta><link href="/styles/syntax-theme.css"  rel="stylesheet"></link><meta name="description"  content="Reversing modern C++ is weird. Purely static analysis to lift out a flag generation algorithm... again!"></meta><link href="/styles/syntax-theme.css"  rel="stylesheet"></link><meta name="description"  content="I can see you! Reading the flag straight from the file."></meta><link href="/styles/syntax-theme.css"  rel="stylesheet"></link><meta name="description"  content="Purely static analysis to lift out a flag generation algorithm. Fun!"></meta><link href="/styles/syntax-theme.css"  rel="stylesheet"></link><meta name="description"  content="Solving a CrackMe wrapped in a well-known game."></meta><link href="/styles/syntax-theme.css"  rel="stylesheet"></link><meta name="description"  content="Solving a very simple .NET CrackMe using dnSpy."></meta><link href="/styles/syntax-theme.css"  rel="stylesheet"></link><meta name="description"  content="TODO"></meta><link href="/styles/syntax-theme.css"  rel="stylesheet"></link><meta name="description"  content="TODO"></meta><link href="/styles/syntax-theme.css"  rel="stylesheet"></link><meta name="description"  content="Setting up simple and quick (!) C++ unit testing using CMake, Catch2, precompiled headers and (arguably) sneaky tricks."></meta><link href="/styles/syntax-theme.css"  rel="stylesheet"></link><meta name="description"  content="Short guide to running the game Animal Crossing (which is released exclusively for Nintendo Switch) on a PC."></meta><link href="/styles/syntax-theme.css"  rel="stylesheet"></link></head><body><div class="min-h-screen flex flex-col h-full "><header class="container border-b border-gray-300 dark:border-gray-600 mt-4 mb-4 pb-4"><div class="prose dark:prose-invert text-black dark:text-white"><a href="/">fsoc</a> / <a href="/words">words</a></div></header><main class="container prose dark:prose-invert lg:prose-lg pb-8"><h1 class="mt-4">Running Animal Crossing on a PC</h1><aside class="mb-4 flex flex-row justify-between"><small>Published on 2020-4-13</small><small><a href="https://github.com/fs-c/fsoc.space/edit/workbench/posts/running-animal-crossing-on-a-pc.md">Edit on github</a></small></aside><p><em>You are required to own a Nintento Switch and a copy of Animal Crossing: New Horizons to follow this guide. This guide deals with experimental technology and may be outdated at the time you're reading this.</em></p><p>The goal of this guide is to set up a Nintendo Switch <a href="https://en.wikipedia.org/w/index.php?title=Emulator&oldid=947215529">emulator</a> in order to run the game <a href="https://en.wikipedia.org/w/index.php?title=Animal_Crossing:_New_Horizons&oldid=950659793">Animal Crossing: New Horizons</a>, developed by Nintendo exclusively for the Nintendo Switch console.</p><h2>Setting up the emulator</h2><p><a href="https://ryujinx.org/">Ryujinx</a>, a "simple, experimental Nintendo Switch emulator written in C#" is the only emulator currently capable of running ACNH through a preview build which can be downloaded openly from their <a href="https://www.patreon.com/posts/animal-crossing-35196813">Patreon page</a>.</p><p>Download the archive which is appropiate for your operating system (builds are only provided for Windows and Linux) from the post and extracted it in an appropiate location &mdash; for Linux this is <code>/usr/local/ryujinx</code>, for Windows it's <code>C:\Program Files\ryujinx</code>. The folder you extracted it to should now contain a <code>Ryujinx</code> executable alongside a number of other files and folders.</p><p>On Linux, the relevant commands are something like</p><pre><code class="language-bash">$ cd /usr/local
$ tar -xzf ~/Downloads/ryujinx-1.0.0-acnh4-linux_x64.tar.gz publish
$ mv publish ryujinx</code></pre><p>When executing Ryujinx you will get a warning that a key file was not found. The missing key file is <code>prod.keys</code>, which you will have to dump from your device. A step-by-step guide can be found in <a href="https://github.com/Ryujinx/Ryujinx/blob/master/KEYS.md"><code>KEYS.md</code></a>, in the Ryujinx repository. Since <code>prod.keys</code> contains common keys used by all Nintendo Switch devices (i.e. every Switch with the same firmware has the same file) it is very easy to find online. Once you have your <code>prod.keys</code> file, move it to <code>~/.switch/prod.keys</code>.</p><p>You will now be able to start Ryujinx without any warnings, but you will still need to install the Nintendo Switch firmware in order to run any game. Again, you can dump this yourself from your own device using a tool like the <a href="https://gbatemp.net/threads/firmware-dumper.522522/">Firmware Dumper</a> by GBATemp user f0mey or simply search for it on the internet.</p><p>Once you have obtained the firmware (either as a .zip or .xci file or extracted to a directory) navigate to <code>Tools &gt; Install Firmware</code> in the taskbar and select the relevant option.</p><h2>Setting up the game</h2><p>In order to run ACNH you will naturally first have to obtain a copy of it. I'd recommend using <a href="https://github.com/DarkMatterCore/nxdumptool">nxdumptool</a> to dump the game from your Nintendo Switch, but there exist a number of alternatives.</p><p>I recommend creating a dedicated directory for your Switch games and adding it to the list of 'Game Directories', which Ryujinx checks for .xci files, by navigating to <code>Options &gt; General &gt; Add (under Game Directories)</code>. Once you've created and added said directory, simply move the .xci file you obtained there.</p><p><strong>This concludes the guide.</strong> Assuming your keys are good and your firmware is reasonably up to date you should be able to start the game without any problems. If your game is crashing in the introduction you can use a save file which skips it completely &mdash; said file can be downloaded from the <a href="https://www.patreon.com/posts/animal-crossing-35196813">Ryujinx Patreon post</a> from which you also got the preview build. Under 'How to install a save file?' the post also contains step by step instructions to install the file.</p><script src="https://unpkg.com/prismjs@v1.x/components/prism-core.min.js"></script><script src="https://unpkg.com/prismjs@v1.x/plugins/autoloader/prism-autoloader.min.js"></script></main></div><footer class="flex flex-row justify-between prose dark:prose-invert container text-md py-3 mb-1 border-t border-gray-300 dark:border-gray-600 mt-4"><p class="m-0">Built with <a href="https://github.com/fs-c/dhow/tree/rewrite">fs-c/dhow</a>.</p><a href="/legal">imprint & privacy</a></footer></body></html>